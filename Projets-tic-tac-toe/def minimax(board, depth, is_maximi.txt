def minimax(board, depth, is_maximizing, ai_sign, human_sign):
    # Terminal states
    if is_winner(board, ai_sign):
        return 10 - depth          # prefer faster wins
    if is_winner(board, human_sign):
        return depth - 10          # prefer slower losses
    if board_full(board):
        return 0                   # draw

    if is_maximizing:
        best_score = -999
        for i in range(9):
            if board[i] == " ":
                board[i] = ai_sign
                score = minimax(board, depth + 1, False, ai_sign, human_sign)
                board[i] = " "
                if score > best_score:
                    best_score = score
        return best_score
    else:
        best_score = 999
        for i in range(9):
            if board[i] == " ":
                board[i] = human_sign
                score = minimax(board, depth + 1, True, ai_sign, human_sign)
                board[i] = " "
                if score < best_score:
                    best_score = score
        return best_score


def computer(board, sign):
    ai_sign = sign
    human_sign = "O" if sign == "X" else "X"

    best_score = -999
    best_move = None

    # Try all possible moves and choose the best according to minimax
    for i in range(9):
        if board[i] == " ":
            board[i] = ai_sign
            score = minimax(board, 0, False, ai_sign, human_sign)
            board[i] = " "
            if score > best_score:
                best_score = score
                best_move = i

    if best_move is None:
        return False  # no move possible
    return best_move


# -------------------------------
# Run the game
# -------------------------------
main()






